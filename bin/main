#!/usr/bin/env ruby

require_relative '../lib/game'

def print_board
  puts '|' + ' 1 ' + '|' + ' 2 ' + '|' + ' 3 ' + '|'
  puts '|' + '___' + '|' + '___' + '|' + '___' + '|'
  puts '|' + ' 4 ' + '|' + ' 5 ' + '|' + ' 6 ' + '|'
  puts '|' + '___' + '|' + '___' + '|' + '___' + '|'
  puts '|' + ' 7 ' + '|' + ' 8 ' + '|' + ' 9 ' + '|'
  puts '|' + '   ' + '|' + '   ' + '|' + '   ' + '|'
end

puts 'Welcome to Tic Tac Toe!'
print_board
puts "Would you like to play a game of tic tac toe? Please enter 'yes' or 'no'" 

def get_reply(response)
  if 'y'  == response[0]
    puts "We are going to start the game shortly after asking you a few more questions"
    name_symbol= {}
    puts 'What is the name of first player'
    name_symbol[:first_player] = gets.chomp

    puts 'What is the name of second player'
    name_symbol[:second_player] = gets.chomp

    puts 'Choose symbol of first player'
    name_symbol[:first_symbol] = gets.chomp
    puts 'Choose symbol of second player'
    name_symbol[:second_symbol] = gets.chomp

    results = play(name_symbol)
    # present results
  end
  if 'n' == response[0]
      puts "Hope to see you again. Bye."
  end
end

def play (name_symbol)
  # Initiate the game 
  game = Game.new (name_symbol)
  game.get_results
end

play_game = gets.chomp.downcase
if %w[yes no y n].include?(play_game) 
  get_reply(play_game)
else
  puts "Please enter 'yes' or 'no'" 
  play_game = gets.chomp.downcase
  while (['yes', 'no', 'y', 'n'].include?(play_game) == false) 
    play_game = gets.chomp.downcase
  end
  get_reply(play_game)
end

